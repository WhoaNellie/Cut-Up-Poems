var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function c(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){t.value=null==e?"":e}let g;function x(t){g=t}function $(){if(!g)throw new Error("Function called outside component initialization");return g}const y=[],w=[],v=[],b=[],M=Promise.resolve();let F=!1;function C(t){v.push(t)}let _=!1;const E=new Set;function k(){if(!_){_=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];x(e),T(e.$$)}for(y.length=0;w.length;)w.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];E.has(e)||(E.add(e),e())}v.length=0}while(y.length);for(;b.length;)b.pop()();F=!1,_=!1,E.clear()}}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const B=new Set;function L(t,e){t&&t.i&&(B.delete(t),t.i(e))}function N(t,n,a){const{fragment:i,on_mount:l,on_destroy:u,after_update:s}=t.$$;i&&i.m(n,a),C(()=>{const n=l.map(e).filter(r);u?u.push(...n):o(n),t.$$.on_mount=[]}),s.forEach(C)}function A(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(t,e){-1===t.$$.dirty[0]&&(y.push(t),F||(F=!0,M.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function S(e,r,a,i,l,s,c=[-1]){const d=g;x(e);const h=r.props||{},f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:c};let p=!1;if(f.ctx=a?a(e,h,(t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),p&&z(e,t)),n}):[],f.update(),p=!0,o(f.before_update),f.fragment=!!i&&i(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(u)}else f.fragment&&f.fragment.c();r.intro&&L(e.$$.fragment),N(e,r.target,r.anchor),k()}x(d)}class j{$destroy(){A(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function P(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function V(t){let e,n,r,a,s,h,m,g,x,$,y,w,v,b=t[8]+"";return{c(){e=c("svg"),n=c("path"),a=c("clipPath"),h=c("text"),m=d(b),p(n,"fill",r="hsl(44, 100%, "+(97+Math.floor(4*Math.random()))+"%)"),p(n,"class","svelte-jhpy9z"),p(a,"id",s="paper"+t[10]),p(h,"x",g=(5+20*Math.random()).toFixed(2)),p(h,"y",x=(35+20*Math.random()).toFixed(2)),p(h,"style",$=function(){let t=(1.7+1.2*Math.random()).toFixed(2)+"rem",e=["#333","#271d1d","#1d1d27","#464646","#0e0e0a","#8a1503","#2a3980","#282894"],n=["serif","sans-serif","helvetica","arial","Times New Roman","Georgia","Book Antiqua","Impact","Lucida Sans Unicode","Courier New","Lucida Console","Trebuchet MS"];return`font-size: ${t};\n                fill: ${e[Math.floor(Math.random()*e.length)]};\n                font-family: ${n[Math.floor(Math.random()*n.length)]};`}()),p(h,"clip-path",y=`url(#paper${t[10]})`),p(h,"class","svelte-jhpy9z"),p(e,"class","svelte-jhpy9z")},m(o,r){l(o,e,r),i(e,n),i(e,a),i(e,h),i(h,m),w||(v=[f(e,"mousedown",t[1]),f(e,"mouseup",t[2]),f(e,"touchstart",t[1]),f(e,"touchend",t[2])],w=!0)},p(t,e){1&e&&b!==(b=t[8]+"")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(m,b)},d(t){t&&u(e),w=!1,o(v)}}}function q(e){let n,o=e[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=V(P(e,o,t));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=d("")},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);l(t,n,e)},p(t,[e]){if(7&e){let a;for(o=t[0],a=0;a<o.length;a+=1){const i=P(t,o,a);r[a]?r[a].p(i,e):(r[a]=V(i),r[a].c(),r[a].m(n.parentNode,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},i:t,o:t,d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t),t&&u(n)}}}function I(){let t=Array.from(document.getElementsByTagName("svg"));for(let e=0;e<t.length;e++){let n=t[e].lastChild,o=n.getBBox().height,r=n.getBBox().width,a=o+n.getBBox().y+3*Math.random(),i=r+n.getBBox().x+15*Math.random();t[e].setAttribute("height",a.toFixed(2)),t[e].setAttribute("width",i.toFixed(2));let l=3*Math.random(),u=8*Math.random(),s=20*Math.random(),c=u-Math.random()*u,d=Math.random()*(i-s),h=u-Math.random()*u,f=`M ${l} ${u} \n             C ${s.toFixed(2)} ${c.toFixed(2)}, \n               ${d.toFixed(2)} ${h.toFixed(2)}, \n               ${i.toFixed(2)} 0 \n             L ${i.toFixed(2)} ${a.toFixed(2)} \n             L 0 ${a.toFixed(2)}  \n             Z`,p=`M ${l} ${u} \n             L ${i.toFixed(2)} 0\n             L ${i.toFixed(2)} ${a.toFixed(2)} \n             C ${(i-d).toFixed(2)} ${(a-h).toFixed(2)}, \n               ${(i-s).toFixed(2)} ${(a-c).toFixed(2)}, \n               0 ${a.toFixed(2)} \n             Z`;t[e].firstChild.setAttribute("d",[f,p][Math.floor(2*Math.random())]);let m=t[e].firstChild.cloneNode(!0);t[e].querySelector(":nth-child(2)").append(m),t[e].style.top=Math.random()*window.innerHeight-10+"px",t[e].style.left=Math.random()*window.innerWidth-20+"px"}}function O(t,e,n){let o,r,{words:a}=e,i=0,l=0,u=a.length+1;var s;return s=()=>{I()},$().$$.on_mount.push(s),function(t){$().$$.after_update.push(t)}((function(){console.log("updated"),I(),console.log(this)})),t.$set=t=>{"words"in t&&n(0,a=t.words)},[a,function(t){"mousedown"===t.type?(o=function(e){i=e.clientY,l=e.clientX,t.target.style.top=i-t.target.height.baseVal.value/2+"px",t.target.style.left=l-t.target.width.baseVal.value/2+"px",t.target.style.filter="drop-shadow(2px 2px 2px #2b2b2173)"},document.addEventListener("mousemove",o),t.target.style.zIndex=u,u++):"touchstart"===t.type&&(r=function(e){i=e.changedTouches[0].pageY,l=e.changedTouches[0].pageX,t.target.style.top=i-t.target.height.baseVal.value/2+"px",t.target.style.left=l-t.target.width.baseVal.value/2+"px",t.target.style.filter="drop-shadow(2px 2px 2px #2b2b2173)"},document.addEventListener("touchmove",r),t.target.style.zIndex=u,u++)},function(t){t.target.style.filter="drop-shadow(1px 1px 1px #2b2b2149)",document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",r)}]}class W extends j{constructor(t){super(),S(this,t,O,q,a,{words:0})}}function X(t){let e,n,r,a,c,d,g,x,$,y;return{c(){e=s("div"),n=s("h1"),n.textContent="To Make a Dadaist Poem",r=h(),a=s("p"),a.textContent="This is a virtual poetry maker based on Tristan Tzara's instructions! Paste any text below and rearrange to your heart's content.",c=h(),d=s("textarea"),g=h(),x=s("button"),x.textContent="Cut Out",p(d,"id","words"),p(d,"cols","30"),p(d,"rows","10"),p(d,"class","svelte-1e22w9p"),p(x,"id","submitWords"),p(x,"class","svelte-1e22w9p"),p(e,"id","chooseWords"),p(e,"class","svelte-1e22w9p")},m(o,u){l(o,e,u),i(e,n),i(e,r),i(e,a),i(e,c),i(e,d),m(d,t[1]),i(e,g),i(e,x),$||(y=[f(d,"input",t[4]),f(x,"click",t[3])],$=!0)},p(t,e){2&e&&m(d,t[1])},d(t){t&&u(e),$=!1,o(y)}}}function Y(t){let e,n,o,r=t[2]&&X(t);const a=new W({props:{words:t[0]}});return{c(){var t;e=s("main"),r&&r.c(),n=h(),(t=a.$$.fragment)&&t.c()},m(t,u){l(t,e,u),r&&r.m(e,null),i(e,n),N(a,e,null),o=!0},p(t,[o]){t[2]?r?r.p(t,o):(r=X(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null);const i={};1&o&&(i.words=t[0]),a.$set(i)},i(t){o||(L(a.$$.fragment,t),o=!0)},o(t){!function(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),(void 0).c.push(()=>{B.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}(a.$$.fragment,t),o=!1},d(t){t&&u(e),r&&r.d(),A(a)}}}function Z(t,e,n){let o=[],r="Take a newspaper.\nTake some scissors.\nChoose from this paper an article of the length you want to make your poem.\nCut out the article.\nNext carefully cut out each of the words that makes up this article and put them all in a bag.\nShake gently.\nNext take out each cutting one after the other.\nCopy conscientiously in the order in which they left the bag.\nThe poem will resemble you.\nAnd there you areâ€”an infinitely original author of charming sensibility, even though unappreciated by the vulgar herd.",a=!0;return[o,r,a,function(){n(2,a=!1),n(0,o=[]),n(0,o=r.replace(/[\r\n\x0B\x0C\u0085\u2028\u2029]+/g,"")),n(0,o=r.split(" "))},function(){r=this.value,n(1,r)}]}return new class extends j{constructor(t){super(),S(this,t,Z,Y,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
